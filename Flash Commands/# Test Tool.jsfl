// Safe Break Apart source: var doc = fl.getDocumentDOM();while(breakApart());function breakApart(){	doc.selection = getBreakTargets();	if(!doc.selection.length || checkSelection()){		return false;	}else{		doc.breakApart();		return true;	}	function checkSelection(){		return doc.selection.length <= 1 && isNotBreakTarget(doc.selection[0])	}}function getBreakTargets(){	var select = $();	var list = select.concat();	for(var i=0;i<select.length;i++){		var element = select[i];		if(isNotBreakTarget(element)){			list.slice(i,1);		}	}	return list;}function isNotBreakTarget(element){	return element instanceof Shape && !element.isGroup}function $(){	return doc.selection.concat();}